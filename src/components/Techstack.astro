---
import TechstackItem from "./TechstackItem.astro";
const stack = [
    { name: "JavaScript", icon: "javascript" },
    { name: "TypeScript", icon: "typescript" },
    { name: "Node.js", icon: "nodejs" },
    { name: "Next.js", icon: "nextjs" },
    { name: "React", icon: "react" },
    { name: "AWS", icon: "aws" },
    { name: "Docker", icon: "docker" },
    { name: "PHP", icon: "php" },
    { name: "Golang", icon: "golang" },
    { name: "HTML5", icon: "html5" },
    { name: "CSS", icon: "css" },
    { name: "Tailwind CSS", icon: "tailwindcss" },
    { name: "Astro", icon: "astrojs" },
];

const multiplied = [...stack, ...stack, ...stack];
---

<style>
    .marquee {
        --duration: calc(36 * 1.5s);
        --pad: 0.75rem;
        --gap: 0.75rem;
        position: relative;
        overflow: hidden;
        mask-image: linear-gradient(
            to right,
            transparent 0,
            #000 20%,
            #000 80%,
            transparent 100%
        );
        padding: 0 4rem 48px 0;
        margin: 0 172px;
    }

    .viewport {
        height: 78px;
        display: grid;
        place-items: center;
        background-color: #16232c;
    }

    .track {
        display: flex;
        align-items: center;
        gap: var(--gap);
        width: max-content;
        animation: scroll var(--duration) linear infinite;
        will-change: transform;
    }

    @keyframes scroll {
        from { transform: translateX(0); }
        to   { transform: translateX(-50%); }
    }

    @media (prefers-reduced-motion: reduce) {
        .track { animation: none; }
    }
</style>

<div
        class="marquee"
        aria-label="Tech-Stack Marquee"
        role="marquee"
>
    <div class="viewport">
        <div class="track">
            {multiplied.map((item) => (
                <TechstackItem item={item} />
            ))}
        </div>
    </div>
</div>
