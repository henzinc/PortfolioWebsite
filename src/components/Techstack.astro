---
const stack = [
    { name: "JavaScript", icon: "javascript" },
    { name: "TypeScript", icon: "typescript" },
    { name: "Node.js", icon: "nodejs" },
    { name: "Next.js", icon: "nextjs" },
    { name: "React", icon: "react" },
    { name: "AWS", icon: "aws" },
    { name: "Docker", icon: "docker" },
    { name: "HTML5", icon: "html5" },
    { name: "CSS", icon: "css" },
    { name: "Tailwind CSS", icon: "tailwindcss" },
    { name: "PHP", icon: "php" },
    { name: "Golang", icon: "golang" },
];

const multiplied = [...stack, ...stack, ...stack];
---

<style>
    .marquee {
        --duration: calc(36 * 2.5s);
        --pad: 0.75rem;
        --gap: 0.75rem;
        position: relative;
        overflow: hidden;
        mask-image: linear-gradient(
            to right,
            transparent 0,
            #000 20%,
            #000 80%,
            transparent 100%
        );
        padding: 0 4rem;
        margin: 0 172px;
    }

    .viewport {
        height: 78px;
        display: grid;
        place-items: center;
        background-color: #16232c;
    }

    .track {
        display: flex;
        align-items: center;
        gap: var(--gap);
        width: max-content;
        animation: scroll var(--duration) linear infinite;
        will-change: transform;
    }

    @keyframes scroll {
        from { transform: translateX(0); }
        to   { transform: translateX(-50%); }
    }

    .item {
        display: inline-flex;
        align-items: center;
        padding: var(--pad) 1rem;
        white-space: nowrap;
        font-weight: 500;
    }

    .item:hover {
        scale: 110%;

        span {
            color: #f2675a;
        }
    }

    .icon {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 1.25rem;
    }

    @media (prefers-reduced-motion: reduce) {
        .track { animation: none; }
    }

    img {
        height: 1.75rem;
    }

    span {
        color: #8c8c8c;
        font-size: 1.25rem;
        letter-spacing: 0.1rem;
        cursor: default;
    }
</style>

<div
        class="marquee"
        aria-label="Tech-Stack Marquee"
        role="marquee"
>
    <div class="viewport">
        <div class="track">
            {multiplied.map((item) => (
                <div class="item">
                    <span class="icon">
                        <img src={`/svgs/${item.icon}.svg`} alt={item.name}/>
                        {item.name}
                    </span>
                </div>
            ))}
        </div>
    </div>
</div>
